# Angular开发小贴士

## 模块
- **模块是什么**：模块是一个代码容器，它是一些在应用领域、工作流或者一组紧密功能的代码的集合。它可以包含组件、服务提供商、或者其他代码文件。
- **bootstrap**: 每个Angular应用都有一个根模块，其设置了bootstarp的入口。


## 组件与模板
- **插值表达式**：插值表达式是一个特殊的语法，Angular将其**转换成了属性绑定**。
- **模板表达式**：产生一个值，Angular执行这个表达式并将其结果赋值给绑定表达式的属性。禁止赋值、自增自减、new、链式表达式、位运算；具有新的模板表达式运算符管道、安全导航、非空断言。
- **模板表达式上下文**：模板变量、指令的上下文变量、组件的成员。
- **模板表达式指南**：没有副作用，执行迅速，非常简单，幂等性（返回完全相同的东西，直到某个依赖的值发生变化。即便是返回的对象也应该是返回的同一个对象的引用）。
- **模板语句**：用来响应由绑定目标触发的事件，有副作用。支持赋值和表达式链，仍然不允许自增自减、new、操作并赋值、位操作符、模板表达式运算符。
- **模板语句上下文**：模板上下文、组件上下文。
- **保持模板语句简单**

- **HTML Attribute vs. DOM Property**：attribute 由 HTML 定义，property 由 DOM 定义，他们之间并不是一对一关系。attribute 初始化 DOM property，然后它们的任务就完成了。property 的值可以改变；attribute 的值不能改变。
- **模板绑定是通过 Property 和事件来工作的，而不是 attribute**（详见官方文档模板语法章节）：在 Angular 中，attribute 只用来初始化元素和指令的状态，当在进行数据绑定的时候，是在跟元素和指令的 property 和事件打交道，和 attribute没有关系。
- **数据绑定的类型**：数据源到视图（插值、property、attribute、css类、样式）、视图到数据源（时间）、双向（双向）。
- **数据绑定的目标**：property，事件，双向，少量attribute(attr)，class(class)，style(style)。
- **绑定目标**：在属性绑定中，Angular 会用绑定目标去匹配指令的**输入属性**列表（指令输入列表或者带有 @Input() 装饰器的属性），如果没有匹配上，就会报出未知指令的错误。
- **对于绑定属性，插值表达式还是属性绑定**：两者可以达到一样的效果，但其实在渲染视图之前，Angular 会把插值表达式翻译成相应的属性绑定。
- **CSS类绑定**：`[class]` 绑定会直接覆盖整个样式，`[class.one-class-name]` 绑定可以设置单个样式，更通常的情况， 
- **双向绑定是属性绑定和事件绑定的语法糖**
- **在处理用户输入时，用模板变量来引用元素**，并将输入框的数值而不是整个 DOM 事件通过事件传递给组件的处理函数，这样可以让代码更干净：组件不需要知道模板的具体细节，只需要关心它关心的值。

## 指令
- **内置指令**：内置属性性指令（`ngClass``ngStyle``ngModel`）和内置结构型指令（`ngIf``ngForOf``ngSwitch`）
- **ngIf和隐藏元素**：当隐藏元素时，该元素以及所有的子元素都保留在DOM中，属于这些元素的组件都保留在 Angular 的内存中，Angular 会继续对其进行变更检测；当使用 ngIf 时，Angular 从 DOM 上移除了这个元素，属于该元素的所有组件都被销毁了。
- **只能在一个元素上应用一个结构型指令**
- **`pipe` 和模板表达式展示数据的区别**：两者都是通过函数的方式计算得到需要展示的数据，却别在于 Angular 对 pipe 有优化，其内部有缓存，当输入不变的时候会直接返回之前缓存的结果，节省了计算时间。使用`memorize` 之类的函数可以达到同样的效果。

## 服务
- **有了组件，为什么还有服务**：Angular 把模块和组件分开来，以提高模块性和复用性。理想状态下，组件应该只关心和视图有关的逻辑，它提供用于数据绑定的属性和方法，作为视图和应用逻辑的中介。而把所有和视图无关的逻辑都放在服务里，例如从服务器获取数据、日志等等。把这些处理任务放到服务里，它可以被任何组件复用。同时，通过在不同环境中注入同一种服务的不同提供商，可以让我们的应用更具有适应性。